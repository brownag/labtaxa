[{"path":"https://brownag.github.io/labtaxa/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Andrew Brown. Author, maintainer.","code":""},{"path":"https://brownag.github.io/labtaxa/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Brown (2026). labtaxa: Fetch Process USDA-NRCS-NCSS Lab Data Mart 'SQLite' Snapshot. R package version 0.0.4, https://brownag.github.io/labtaxa.","code":"@Manual{,   title = {labtaxa: Fetch and Process USDA-NRCS-NCSS Lab Data Mart 'SQLite' Snapshot},   author = {Andrew Brown},   year = {2026},   note = {R package version 0.0.4},   url = {https://brownag.github.io/labtaxa}, }"},{"path":[]},{"path":"https://brownag.github.io/labtaxa/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"labtaxa provides reproducible access USDA-NRCS Kellogg Soil Survey Laboratory (KSSL) database snapshots R. package automatically downloads, caches, loads complete Lab Data Mart database (~65,000 soil profiles detailed laboratory analyses) soil science research education.","code":""},{"path":"https://brownag.github.io/labtaxa/index.html","id":"docker","dir":"","previous_headings":"","what":"Docker","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"get running quickly can use Docker container. labtaxa container based rocker/rstudio pinned R version (see Dockerfile current version) reproducibility. addition standard RStudio tools, container : Cached Lab Data Mart GeoPackage - Complete KSSL database (lab spatial data) Morphologic database - Derived NASIS pedon field descriptions Pre-processed data - SoilProfileCollection objects cached RDS files Curated packages - dependencies soil science analysis RStudio Server - Full IDE accessible via web browser data packages exactly versioned (floating), guaranteeing reproducible results: Docker tag always gives environment data. Docker Hub: GitHub:","code":"docker pull brownag/labtaxa:latest docker pull ghcr.io/brownag/labtaxa:latest"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"quick-start-with-docker-compose-recommended","dir":"","previous_headings":"Docker","what":"Quick Start with Docker Compose (Recommended)","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"easiest way run container Docker Compose. docker-compose.yml file included repository: open web browser navigate http://localhost:8787. default username rstudio default password soilscience. Features: Persistent projects/ directory work Automatic volume management package cache Pre-configured resource limits (16GB memory, 4 CPUs) Health checks monitor container status","code":"# Clone the repository git clone https://github.com/brownag/labtaxa.git cd labtaxa  # Start the container (downloads image on first run) docker-compose up -d  # Stop the container docker-compose down"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"running-with-docker-run","dir":"","previous_headings":"Docker","what":"Running with Docker Run","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"Alternatively, can run container directly: open web browser navigate http://localhost:8787. default username rstudio default password mypassword.","code":"docker run -d -p 8787:8787 -e PASSWORD=mypassword -v ~/Documents:/home/rstudio/Documents -e ROOT=TRUE brownag/labtaxa"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"r-package-installation","dir":"","previous_headings":"","what":"R Package Installation","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"can install development version {labtaxa} GitHub:","code":"if (!require(\"labtaxa\"))   remotes::install_github(\"brownag/labtaxa\")"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"Download (cache) latest Lab Data Mart SQLite snapshot https://ncsslabdatamart.sc.egov.usda.gov/ like : Downloaded derived files cached platform-specific directory specified ldm_data_dir() using cache_labtaxa() Docker container snapshot already created cached latest data (last time container built). Updates method used create cache, well scheduled (monthly) updates occur. cached data help get running quickly analyzing entire KSSL database using {aqp} R package toolchain. lab data pre-loaded large SoilProfileCollection object (65,000 profiles). seconds Docker container loaded, can filtering processing lab data object. Downloading archives complete databases can take 10s minutes couple hours (depending internet connection). cases absolute recent data needed require cache update. downloaded databases (GeoPackage, SQLite) queried locally using {soilDB} functions fetchLDM() fetchNASIS(). {soilDB} functions can take couple minutes process larger databases like , container building process front loads costly processing steps. Querying data using method like essentially precedes analyses. soilDB provides standard aggregation methods produce {aqp} SoilProfileCollections, provide convenient data structure working horizon site level data associated specific soil profiles. start {labtaxa} Docker container hwill ave latest database first-step data object (ran {soilDB} functions) readily available post-processing answering specific questions. running machine run get_LDM_snapshot() least () load_labtaxa() command works. future runs need re-download prepare data unless need update cache.","code":"library(labtaxa) ldm <- get_LDM_snapshot() #> Loading required namespace: RSQLite #> Using cached database: /home/andrew/.local/share/R/labtaxa/ncss_labdata.gpkg #> Patching Lab Data Mart database... #> Patching morphologic database... #> Loading Lab Data Mart data... #> converting profile IDs from integer to character #> Warning: Horizon top depths contain NA! Check depth logic with #> aqp::checkHzDepthLogic() #> Warning: Horizon bottom depths contain NA! Check depth logic with #> aqp::checkHzDepthLogic() #> Warning: One or more horizon bottom depths are shallower than top depth. Check #> depth logic with aqp::checkHzDepthLogic() #> Loaded 65403 soil profiles #> Loading morphologic data... #> NOTE: some siteobsiid have surface fragment cover >= 100% #> NOTE: some phiid have multiple lab sample IDs (labsampnum) #> NOTE: some phiid have rock fragment volume >= 100% #> replacing missing lower horizon depths with top depth + 1cm ... [4948 horizons] #> top/bottom depths equal, adding 1cm to bottom depth ... [5317 horizons] #> Warning: Horizon top depths contain NA! Check depth logic with #> aqp::checkHzDepthLogic() #> Warning: Horizon bottom depths contain NA! Check depth logic with #> aqp::checkHzDepthLogic() #> Warning: One or more horizon bottom depths are shallower than top depth. Check #> depth logic with aqp::checkHzDepthLogic() #> -> QC: duplicate pedons:  #>  Use `get('dup.pedon.ids', envir=get_soilDB_env())` for pedon record IDs (peiid) #> -> QC: pedon horizons with rock fragment volume >=100%:  #>  Use `get('rock.fragment.volume.gt100.phiid', envir=get_soilDB_env())` for pedon horizon record IDs (phiid) #> -> QC: surface fragment records from multiple site observations: #>  Use `get('multisiteobs.surface', envir=get_soilDB_env())` for site (siteiid) and site observation (siteobsiid) #> -> QC: pedons with surface fragment cover >=100%:  #>  Use `get('surface.fragment.cover.gt100.siteobsiid', envir=get_soilDB_env())` for site observation record IDs (siteobsiid) #> -> QC: horizons with multiple lab samples:  #>  Use `get('multiple.labsampnum.per.phiid', envir=get_soilDB_env())` for pedon horizon record IDs (phiid) #> Warning in aqp::`hzidname<-`(`*tmp*`, value = \"phiid\"): horizon ID name (phiid) #> not unique. unique ID not changed. #> -> QC: pedons missing bottom horizon depths: #>  Use `get('missing.bottom.depths', envir=get_soilDB_env())` for User Pedon IDs (upedonid) #> -> QC: equal horizon top and bottom depths: #>  Use `get('top.bottom.equal', envir=get_soilDB_env())` for User Pedon IDs (upedonid) #> Caching results... # Check the loaded object length(ldm) #> [1] 65403 str(ldm) #> Formal class 'SoilProfileCollection' [package \"aqp\"] with 8 slots #>   ..@ idcol       : chr \"pedon_key\" #>   ..@ hzidcol     : chr \"hzID\" #>   ..@ depthcols   : chr [1:2] \"hzn_top\" \"hzn_bot\" #>   ..@ metadata    :List of 6 #>   .. ..$ aqp_df_class    : chr \"data.frame\" #>   .. ..$ aqp_group_by    : chr \"\" #>   .. ..$ aqp_hzdesgn     : chr \"hzn_desgn\" #>   .. ..$ aqp_hztexcl     : chr \"\" #>   .. ..$ depth_units     : chr \"cm\" #>   .. ..$ stringsAsFactors: logi FALSE #>   ..@ horizons    :'data.frame': 403461 obs. of  435 variables: #>   .. ..$ OBJECTID                            : int [1:403461] 70 71 72 73 74 75 715 716 717 718 ... #>   .. ..$ objectid_1                          : int [1:403461] 66 67 68 69 70 71 711 712 713 714 ... #>   .. ..$ layer_key                           : int [1:403461] 66 67 68 69 70 71 711 712 713 714 ... #>   .. ..$ labsampnum                          : chr [1:403461] \"40A00124\" \"40A00125\" \"40A00126\" \"40A00127\" ... #>   .. ..$ project_key                         : int [1:403461] 1 1 1 1 1 1 1 1 1 1 ... #>   .. ..$ pedon_key                           : chr [1:403461] \"10\" \"10\" \"10\" \"10\" ... #>   .. ..$ layer_sequence                      : int [1:403461] 1 2 3 4 5 6 1 2 3 4 ... #>   .. ..$ layer_type                          : chr [1:403461] \"horizon\" \"horizon\" \"horizon\" \"horizon\" ... #>   .. ..$ layer_field_label_1                 : chr [1:403461] \"2124\" \"2125\" \"2126\" \"2127\" ... #>   .. ..$ layer_field_label_2                 : chr [1:403461] NA NA NA NA ... #>   .. ..$ layer_field_label_3                 : chr [1:403461] NA NA NA NA ... #>   .. ..$ hzn_top                             : num [1:403461] 0 18 46 71 91 117 0 13 30 48 ... #>   .. ..$ hzn_bot                             : num [1:403461] 18 46 71 91 117 152 13 30 48 81 ... #>   .. ..$ hzn_desgn_old                       : chr [1:403461] \"A1p\" \"ACca\" \"Cca\" \"C1\" ... #>   .. ..$ hzn_desgn                           : chr [1:403461] \"Ap\" \"ABk\" \"Bk\" \"C\" ... #>   .. ..$ hzn_discontinuity                   : int [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ hzn_master                          : chr [1:403461] \"A\" \"AB\" \"B\" \"C\" ... #>   .. ..$ hzn_prime                           : chr [1:403461] NA NA NA NA ... #>   .. ..$ hzn_vert_subdvn                     : int [1:403461] NA NA NA NA 1 2 NA NA 1 2 ... #>   .. ..$ hzn_desgn_other                     : chr [1:403461] NA NA NA NA ... #>   .. ..$ non_hzn_desgn                       : chr [1:403461] NA NA NA NA ... #>   .. ..$ stratified_textures_flag            : int [1:403461] 0 0 0 0 0 0 0 0 0 0 ... #>   .. ..$ texture_description                 : chr [1:403461] NA NA NA NA ... #>   .. ..$ result_source_key                   : int [1:403461] 66 67 68 69 70 71 711 712 713 714 ... #>   .. ..$ prep_code                           : chr [1:403461] \"S\" \"S\" \"S\" \"S\" ... #>   .. ..$ texture_lab                         : chr [1:403461] \"cl\" \"cl\" \"sicl\" \"sicl\" ... #>   .. ..$ particle_size_method                : chr [1:403461] \"3A1a1a\" \"3A1a1a\" \"3A1a1a\" \"3A1a1a\" ... #>   .. ..$ clay_total                          : num [1:403461] 32.1 37.5 37.9 33.9 35.5 31.4 25.3 25.6 28.9 26.7 ... #>   .. ..$ silt_total                          : num [1:403461] 40.2 41.1 55.8 62.3 59.7 64.5 43.9 32.7 35.1 32.1 ... #>   .. ..$ sand_total                          : num [1:403461] 27.7 21.4 6.3 3.8 4.8 4.1 30.8 41.7 36 41.2 ... #>   .. ..$ clay_fine                           : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ clay_caco3                          : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ silt_fine                           : num [1:403461] 21.8 21.1 37.1 43.2 41.2 40.3 24 16 18.8 18 ... #>   .. ..$ silt_coarse                         : num [1:403461] 18.4 20 18.7 19.1 18.5 24.2 19.9 16.7 16.3 14.1 ... #>   .. ..$ sand_very_fine                      : num [1:403461] 17.3 17.4 4.3 2.5 1.4 2.2 10.3 11.5 9.3 10 ... #>   .. ..$ sand_fine                           : num [1:403461] 6 2.5 1 0.7 0.9 1.1 9.5 13.7 12 12.6 ... #>   .. ..$ sand_medium                         : num [1:403461] 2 0.7 0.4 0.3 0.6 0.5 4.8 7.2 5.9 6.7 ... #>   .. ..$ sand_coarse                         : num [1:403461] 1.8 0.6 0.4 0.2 1.1 0.3 4.4 6.6 5.5 6.7 ... #>   .. ..$ sand_very_coarse                    : num [1:403461] 0.6 0.2 0.2 0.1 0.8 0 1.8 2.7 3.3 5.2 ... #>   .. ..$ frag_2_5_mm_wt_pct_lt_75            : num [1:403461] 0 0 0 0 0 0 1 1 1 4 ... #>   .. ..$ frag__2_20_mm_wt_pct_lt_75          : num [1:403461] 0 0 0 0 0 0 1 1 2 6 ... #>   .. ..$ frag_5_20_mm_wt_pct_lt_75           : num [1:403461] 0 0 0 0 0 0 0 0 1 2 ... #>   .. ..$ frag_20_75_mm_wt_pct_lt_75          : num [1:403461] 0 0 0 0 0 0 0 0 0 0 ... #>   .. ..$ total_frag_wt_pct_gt_2_mm_ws        : num [1:403461] 0 0 0 0 0 0 1 1 2 6 ... #>   .. ..$ wt_pct_1_tenth_to_75_mm             : num [1:403461] 10 4 2 1 3 2 21 30 27 31 ... #>   .. ..$ bulk_density_tenth_bar              : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_tenth_bar_method       : chr [1:403461] NA NA NA NA ... #>   .. ..$ bulk_density_third_bar              : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_third_bar_method       : chr [1:403461] NA NA NA NA ... #>   .. ..$ bulk_density_oven_dry               : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_oven_dry_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ bulk_density_lt_2_mm_air_dry        : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_air_dry_method         : chr [1:403461] NA NA NA NA ... #>   .. ..$ bd_third_bar_lt2_reconstituted      : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bd_thirdbar_reconstituted_method    : chr [1:403461] NA NA NA NA ... #>   .. ..$ bulk_den_ovendry_reconstituted      : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_odreconstituted_method : chr [1:403461] NA NA NA NA ... #>   .. ..$ bulk_density_field_moist            : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ bulk_density_field_moist_method     : chr [1:403461] NA NA NA NA ... #>   .. ..$ particle_density_less_than_2mm      : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ particle_density_lt_2mm_method      : chr [1:403461] NA NA NA NA ... #>   .. ..$ particle_density_gt_2_mm            : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ particle_density_gt_2mm_method      : chr [1:403461] NA NA NA NA ... #>   .. ..$ cole_whole_soil                     : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ cole_whole_soil_method              : chr [1:403461] NA NA NA NA ... #>   .. ..$ le_third_fifteen_lt2_mm             : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ le_third_fifteen_lt2_method         : chr [1:403461] NA NA NA NA ... #>   .. ..$ le_third_ovendry_lt_2_mm            : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ le_third_ovendry_lt_2_mm_method     : chr [1:403461] NA NA NA NA ... #>   .. ..$ le_field_moist_to_oben_dry          : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ le_fm_to_od_method                  : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_0_bar_sieve         : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_0_bar_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_6_hundredths        : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_6_hund_method       : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_10th_bar            : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_10th_bar_method     : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_third_bar           : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_thirdbar_method     : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_1_bar               : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_1_bar_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_2_bar               : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_2_bar_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_3_bar_sieve         : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_3_bar_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_5_bar_sieve         : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_5_bar_method        : chr [1:403461] NA NA NA NA ... #>   .. ..$ water_retention_15_bar              : num [1:403461] 16.6 15.2 14.3 14 15.9 14.4 18.4 10.8 9.4 9.2 ... #>   .. ..$ water_retention_15_bar_method       : chr [1:403461] \"3C2a1a\" \"3C2a1a\" \"3C2a1a\" \"3C2a1a\" ... #>   .. ..$ water_retention_field_state         : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ water_retention_field_state_me      : chr [1:403461] NA NA NA NA ... #>   .. ..$ airdry_ovendry_ratio                : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ atterberg_liquid_limit              : chr [1:403461] NA NA NA NA ... #>   .. ..$ atterberg_liquid_limit_method       : chr [1:403461] NA NA NA NA ... #>   .. ..$ atterberg_plasticity_index          : chr [1:403461] NA NA NA NA ... #>   .. ..$ plastic_limit                       : chr [1:403461] NA NA NA NA ... #>   .. ..$ plastic_limit_method                : chr [1:403461] NA NA NA NA ... #>   .. ..$ aggregate_stability_05_2_mm         : num [1:403461] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ aggregate_stability_05_2_method     : chr [1:403461] NA NA NA NA ... #>   .. .. [list output truncated] #>   ..@ site        :'data.frame': 65403 obs. of  116 variables: #>   .. ..$ pedon_key                    : chr [1:65403] \"10\" \"100\" \"1000\" \"10000\" ... #>   .. ..$ Shape                        : blob [1:65403]  #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 11 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. ..$ : raw [1:29] 47 50 00 01 ... #>   .. .. .. [list output truncated] #>   .. .. ..@ ptype: raw(0)  #>   .. ..$ site_key                     : int [1:65403] 10 100 1000 10000 10001 10002 10003 10004 10005 10006 ... #>   .. ..$ pedlabsampnum                : chr [1:65403] \"40A0017\" \"40A0107\" \"40A1039\" \"83P0141\" ... #>   .. ..$ peiid                        : int [1:65403] 47360 47278 106853 524594 524595 524596 524597 524598 524599 524600 ... #>   .. ..$ upedonid                     : chr [1:65403] \"1954ND067001\" \"S1950ND075006\" \"S1957WA063005\" \"S1982NY061003\" ... #>   .. ..$ labdatadescflag              : int [1:65403] 0 1 0 1 1 1 1 1 1 1 ... #>   .. ..$ priority                     : chr [1:65403] \"B\" \"B\" \"D\" \"B\" ... #>   .. ..$ priority2                    : chr [1:65403] \"C\" \"A\" \"C\" \"A\" ... #>   .. ..$ samp_name                    : chr [1:65403] \"Bearden\" \"Hamlet\" \"COUSE\" \"Snd\" ... #>   .. ..$ samp_class_type              : chr [1:65403] \"series\" NA \"series\" NA ... #>   .. ..$ samp_classdate               : chr [1:65403] \"1954-06-02T00:00:00.0Z\" \"1950-09-19T00:00:00.0Z\" \"1957-09-11T00:00:00.0Z\" \"1982-11-01T00:00:00.0Z\" ... #>   .. ..$ samp_classification_name     : chr [1:65403] \"Fine-silty, mixed, superactive, frigid Aeric Calciaquolls\" \"Fine-loamy, mixed Aquic Haploborolls\" NA \"Loamy Aquic Udorthent\" ... #>   .. ..$ samp_taxorder                : chr [1:65403] \"mollisols\" \"mollisols\" NA \"entisols\" ... #>   .. ..$ samp_taxsuborder             : chr [1:65403] \"aquolls\" \"borolls\" NA \"orthents\" ... #>   .. ..$ samp_taxgrtgroup             : chr [1:65403] \"calciaquolls\" \"haploborolls\" NA \"udorthents\" ... #>   .. ..$ samp_taxsubgrp               : chr [1:65403] \"aeric calciaquolls\" \"aquic haploborolls\" NA \"aquic udorthents\" ... #>   .. ..$ samp_taxpartsize             : chr [1:65403] \"fine-silty\" \"fine-loamy\" NA \"loamy\" ... #>   .. ..$ samp_taxpartsizemod          : chr [1:65403] NA NA NA NA ... #>   .. ..$ samp_taxceactcl              : chr [1:65403] \"superactive\" NA NA NA ... #>   .. ..$ samp_taxreaction             : chr [1:65403] NA NA NA NA ... #>   .. ..$ samp_taxtempcl               : chr [1:65403] \"frigid\" NA NA NA ... #>   .. ..$ samp_taxmoistscl             : chr [1:65403] NA NA NA \"aquic\" ... #>   .. ..$ samp_taxtempregime           : chr [1:65403] NA NA NA NA ... #>   .. ..$ samp_taxminalogy             : chr [1:65403] \"mixed\" \"mixed\" NA NA ... #>   .. ..$ samp_taxother                : chr [1:65403] NA NA NA NA ... #>   .. ..$ samp_osdtypelocflag          : int [1:65403] 0 0 0 0 0 0 0 0 0 0 ... #>   .. ..$ corr_name                    : chr [1:65403] \"Bearden\" \"Hamlet\" NA \"North Meadow\" ... #>   .. ..$ corr_class_type              : chr [1:65403] \"series\" \"series\" NA \"taxadjunct\" ... #>   .. ..$ corr_classdate               : chr [1:65403] \"1977-07-01T00:00:00.0Z\" \"2017-02-07T00:00:00.0Z\" NA \"2012-03-26T17:07:54.0Z\" ... #>   .. ..$ corr_classification_name     : chr [1:65403] \"Fine-silty, mixed, superactive, frigid Aeric Calciaquolls\" \"Fine-loamy, mixed, superactive, frigid Aquic Hapludolls\" NA \"Coarse-loamy, mixed, superactive, nonacid, mesic Aquic Udorthents\" ... #>   .. ..$ corr_taxorder                : chr [1:65403] \"mollisols\" \"mollisols\" NA \"entisols\" ... #>   .. ..$ corr_taxsuborder             : chr [1:65403] \"aquolls\" \"udolls\" NA \"orthents\" ... #>   .. ..$ corr_taxgrtgroup             : chr [1:65403] \"calciaquolls\" \"hapludolls\" NA \"udorthents\" ... #>   .. ..$ corr_taxsubgrp               : chr [1:65403] \"aeric calciaquolls\" \"aquic hapludolls\" NA \"aquic udorthents\" ... #>   .. ..$ corr_taxpartsize             : chr [1:65403] \"fine-silty\" \"fine-loamy\" NA \"coarse-loamy\" ... #>   .. ..$ corr_taxpartsizemod          : chr [1:65403] NA NA NA NA ... #>   .. ..$ corr_taxceactcl              : chr [1:65403] \"superactive\" \"superactive\" NA \"superactive\" ... #>   .. ..$ corr_taxreaction             : chr [1:65403] NA NA NA \"nonacid\" ... #>   .. ..$ corr_taxtempcl               : chr [1:65403] \"frigid\" \"frigid\" NA \"mesic\" ... #>   .. ..$ corr_taxmoistscl             : chr [1:65403] NA \"aquic\" NA \"aquic\" ... #>   .. ..$ corr_taxtempregime           : chr [1:65403] NA \"frigid\" NA \"mesic\" ... #>   .. ..$ corr_taxminalogy             : chr [1:65403] \"mixed\" \"mixed\" NA \"mixed\" ... #>   .. ..$ corr_taxother                : chr [1:65403] NA NA NA NA ... #>   .. ..$ corr_osdtypelocflag          : int [1:65403] 1 0 NA 0 0 0 0 0 0 0 ... #>   .. ..$ SSL_name                     : chr [1:65403] NA NA NA \"unnamed\" ... #>   .. ..$ SSL_class_type               : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_classdate                : chr [1:65403] NA NA NA \"1993-02-03T00:00:00.0Z\" ... #>   .. ..$ SSL_classification_name      : chr [1:65403] NA NA NA \"Coarse-loamy, mixed, mesic Aquic Udorthent\" ... #>   .. ..$ SSL_taxorder                 : chr [1:65403] NA NA NA \"entisols\" ... #>   .. ..$ SSL_taxsuborder              : chr [1:65403] NA NA NA \"orthents\" ... #>   .. ..$ SSL_taxgrtgroup              : chr [1:65403] NA NA NA \"udorthents\" ... #>   .. ..$ SSL_taxsubgrp                : chr [1:65403] NA NA NA \"aquic udorthents\" ... #>   .. ..$ SSL_taxpartsize              : chr [1:65403] NA NA NA \"coarse-loamy\" ... #>   .. ..$ SSL_taxpartsizemod           : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_taxceactcl               : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_taxreaction              : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_taxtempcl                : chr [1:65403] NA NA NA \"mesic\" ... #>   .. ..$ SSL_taxmoistscl              : chr [1:65403] NA NA NA \"aquic\" ... #>   .. ..$ SSL_taxtempregime            : chr [1:65403] NA NA NA \"mesic\" ... #>   .. ..$ SSL_taxminalogy              : chr [1:65403] NA NA NA \"mixed\" ... #>   .. ..$ SSL_taxother                 : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_osdtypelocflag           : int [1:65403] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ siteiid                      : int [1:65403] 47454 103699 106870 119440 119441 119442 119443 119444 119445 119446 ... #>   .. ..$ usiteid                      : chr [1:65403] \"1954ND067001\" \"S1950ND075006\" \"S1957WA063005\" \"S1982NY061003\" ... #>   .. ..$ site_obsdate                 : chr [1:65403] \"1954-06-02T00:00:00.0Z\" \"1950-09-19T00:00:00.0Z\" \"1957-09-11T00:00:00.0Z\" \"1982-11-01T00:00:00.0Z\" ... #>   .. ..$ latitude_decimal_degrees     : num [1:65403] 48.7 48.8 47.5 40.8 40.8 ... #>   .. ..$ longitude_decimal_degrees    : num [1:65403] -97.4 -101.7 -117.1 -74 -74 ... #>   .. ..$ country_key                  : int [1:65403] 244 244 244 244 244 244 244 244 244 244 ... #>   .. ..$ state_key                    : int [1:65403] 3981 3981 4006 3988 3988 3988 3988 3988 3988 3988 ... #>   .. ..$ county_key                   : int [1:65403] 6092 6096 7399 6316 6316 6316 6316 6316 6316 6316 ... #>   .. ..$ mlra_key                     : int [1:65403] 7627 7624 NA 7763 7763 7763 7763 7763 7763 7763 ... #>   .. ..$ ssa_key                      : int [1:65403] 8322 8326 10612 9431 9431 9431 9431 9431 9431 9431 ... #>   .. ..$ npark_key                    : int [1:65403] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ nforest_key                  : int [1:65403] NA NA NA NA NA NA NA NA NA NA ... #>   .. ..$ note                         : chr [1:65403] \"NASIS updated 5/4/2020 8:01:22 AM\" \"NASIS updated 5/4/2020 8:01:27 AM\" \"NASIS updated 5/4/2020 8:02:17 AM\" \"NASIS updated 5/4/2020 8:15:14 AM\" ... #>   .. ..$ samp_taxfamhahatmatcl        : chr [1:65403] NA NA NA NA ... #>   .. ..$ corr_taxfamhahatmatcl        : chr [1:65403] NA NA NA NA ... #>   .. ..$ SSL_taxfamhahatmatcl         : chr [1:65403] NA NA NA NA ... #>   .. ..$ pedobjupdate                 : chr [1:65403] \"2014-09-10T14:01:31.0Z\" \"2017-02-24T20:28:27.0Z\" \"2016-04-24T22:08:01.0Z\" \"2014-03-03T20:59:42.0Z\" ... #>   .. ..$ siteobjupdate                : chr [1:65403] \"2014-03-28T13:17:36.0Z\" \"2017-02-24T20:54:25.0Z\" \"2016-06-24T19:14:29.0Z\" \"2016-07-20T16:50:25.0Z\" ... #>   .. ..$ wmiid                        : int [1:65403] 10 99 906 8099 8100 8101 8102 8103 8104 8105 ... #>   .. ..$ Series                       : chr [1:65403] \"Bearden\" \"Hamlet\" \"Couse\" \"North meadow\" ... #>   .. ..$ User_pedon_ID                : chr [1:65403] \"1954ND067001\" \"S1950ND075006\" \"S1957WA063005\" \"S1982NY061003\" ... #>   .. ..$ pedon_Key                    : int [1:65403] 10 100 1000 10000 10001 10002 10003 10004 10005 10006 ... #>   .. ..$ Soil_Classification          : chr [1:65403] \"Fine-silty, mixed, superactive, frigid Aeric Calciaquolls\" \"Fine-loamy, mixed, superactive, frigid Aquic Hapludolls\" NA \"Coarse-loamy, mixed, superactive, nonacid, mesic Aquic Udorthents\" ... #>   .. ..$ Primary_Lab_Report           : chr [1:65403] \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10&r=1&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=100&r=1&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=1000&r=1&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10000&r=1&submit1=Get+Report\" ... #>   .. ..$ Taxonomy_Report              : chr [1:65403] \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10&r=3&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=100&r=3&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=1000&r=3&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10000&r=3&submit1=Get+Report\" ... #>   .. ..$ Supplementary_Lab_Report     : chr [1:65403] \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10&r=2&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=100&r=2&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=1000&r=2&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10000&r=2&submit1=Get+Report\" ... #>   .. ..$ Water_Retention_Report       : chr [1:65403] \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10&r=6&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=100&r=6&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=1000&r=6&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10000&r=6&submit1=Get+Report\" ... #>   .. ..$ Correlation_Report           : chr [1:65403] \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10&r=7&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=100&r=7&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=1000&r=7&submit1=Get+Report\" \"https://ncsslabdatamart.sc.egov.usda.gov/rptExecute.aspx?p=10000&r=7&submit1=Get+Report\" ... #>   .. ..$ pedon_Description_Report     : chr [1:65403] \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=Pedon_Site_Description_usepedoni\"| __truncated__ \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=Pedon_Site_Description_usepedoni\"| __truncated__ \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=Pedon_Site_Description_usepedoni\"| __truncated__ \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=Pedon_Site_Description_usepedoni\"| __truncated__ ... #>   .. ..$ Soil_Profile                 : chr [1:65403] \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=WEB-profiles-by-PEIID&pedon_peiid=47360\" \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=WEB-profiles-by-PEIID&pedon_peiid=47278\" \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=WEB-profiles-by-PEIID&pedon_peiid=106853\" \"https://nasis.sc.egov.usda.gov/NasisReportsWebSite/limsreport.aspx?report_name=WEB-profiles-by-PEIID&pedon_peiid=524594\" ... #>   .. ..$ Soil_web                     : chr [1:65403] \"https://casoilresource.lawr.ucdavis.edu/gmap/?loc=48.6608,-97.3747\" \"https://casoilresource.lawr.ucdavis.edu/gmap/?loc=48.8211,-101.747\" \"https://casoilresource.lawr.ucdavis.edu/gmap/?loc=47.4632,-117.069\" \"https://casoilresource.lawr.ucdavis.edu/gmap/?loc=40.7997,-73.9571\" ... #>   .. ..$ lat                          : num [1:65403] 48.7 48.8 47.5 40.8 40.8 ... #>   .. ..$ long                         : num [1:65403] -97.4 -101.7 -117.1 -74 -74 ... #>   .. ..$ user_site_id                 : chr [1:65403] \"54ND067001\" \"50ND075006\" \"57WA063005\" \"82NY061003\" ... #>   .. ..$ horizontal_datum_name        : chr [1:65403] NA NA \"NAD27\" \"NAD27\" ... #>   .. ..$ latitude_direction           : chr [1:65403] \"north\" \"north\" \"north\" \"north\" ... #>   .. .. [list output truncated] #>   ..@ diagnostic  :'data.frame': 0 obs. of  0 variables #>   ..@ restrictions:'data.frame': 0 obs. of  0 variables"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"data-versioning-strategy","dir":"","previous_headings":"","what":"Data Versioning Strategy","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"labtaxa uses semantic versioning reproducibility: latest - recent data snapshot (always updated) YYYY.MM - Specific month snapshot (e.g., 2026.02 February 2026 data) YYYY.MM.DD - Specific day snapshot (rare, patch builds) reproducible research, always specify version tag: R, check data version: GitHub Releases contain checksums verification: - release tagged data snapshot date - Download snapshot-metadata.json verify file integrity","code":"# Use a specific month snapshot (recommended for publications) docker pull ghcr.io/brownag/labtaxa:2026.02 # Create sample metadata for demonstration metadata <- list(   snapshot_date = \"2026-02-01\",   data_source = \"USDA NRCS NCSS Lab Data Mart\",   r_version = \"4.5.2\" )  cat(sprintf(\"Data from: %s\\\\n\", metadata$snapshot_date)) #> Data from: 2026-02-01\\n cat(sprintf(\"R version: %s\\\\n\", metadata$r_version)) #> R version: 4.5.2\\n"},{"path":[]},{"path":"https://brownag.github.io/labtaxa/index.html","id":"verify-data-integrity","dir":"","previous_headings":"Reproducibility & Data Provenance","what":"Verify Data Integrity","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"","code":"library(labtaxa)  # Checksums are included in release metadata metadata <- list(   snapshot_date = \"2026-02-01\",   download_timestamp = \"2026-02-01T12:00:00Z\",   checksums = list(     list(file = \"ncss_labdata.gpkg\", sha256 = \"abc123def456...\"),     list(file = \"ncss_morphologic.sqlite\", sha256 = \"xyz789uvw012...\")   ) )  # Check when data was downloaded cat(sprintf(\"Data snapshot: %s\\\\n\", metadata$snapshot_date)) #> Data snapshot: 2026-02-01\\n cat(sprintf(\"Downloaded: %s\\\\n\", metadata$download_timestamp)) #> Downloaded: 2026-02-01T12:00:00Z\\n  # Display checksums cat(\"\\\\nChecksums:\\\\n\") #> \\nChecksums:\\n for (file_info in metadata$checksums) {   cat(sprintf(\"%s: %s\\\\n\", file_info$file, file_info$sha256)) } #> ncss_labdata.gpkg: abc123def456...\\nncss_morphologic.sqlite: xyz789uvw012...\\n"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"cite-the-data","dir":"","previous_headings":"Reproducibility & Data Provenance","what":"Cite the Data","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"publishing research using NCSS laboratory data cite: National Cooperative Soil Survey National Cooperative Soil Survey Soil Characterization Database http://ncsslabdatamart.sc.egov.usda.gov/ Accessed can cite package data version:","code":"@misc{labtaxa2026,   author = {Brown, Andrew},   title = {labtaxa: USDA KSSL Database Snapshots},   year = {2026},   url = {https://github.com/brownag/labtaxa} }"},{"path":"https://brownag.github.io/labtaxa/index.html","id":"getting-help","dir":"","previous_headings":"Reproducibility & Data Provenance","what":"Getting Help","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"Documentation: https://brownag.github.io/labtaxa/ Report Issues: https://github.com/brownag/labtaxa/issues Discussions: https://github.com/brownag/labtaxa/discussions","code":""},{"path":"https://brownag.github.io/labtaxa/index.html","id":"related-resources","dir":"","previous_headings":"","what":"Related Resources","title":"labtaxa – Reproducible USDA KSSL Data Access","text":"Lab Data Mart: https://ncsslabdatamart.sc.egov.usda.gov/ aqp Package (SoilProfileCollection object): https://cran.r-project.org/package=aqp soilDB Package (soil database tools): https://cran.r-project.org/package=soilDB","code":""},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":null,"dir":"Reference","previous_headings":"","what":"Cache and Load KSSL Data — cache_labtaxa","title":"Cache and Load KSSL Data — cache_labtaxa","text":"Manually save load cached KSSL Lab Data Mart morphologic datasets. Convenience wrapper loading cached morphologic (field description) SoilProfileCollection companion NASIS database.","code":""},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cache and Load KSSL Data — cache_labtaxa","text":"","code":"cache_labtaxa(   x,   filename = \"cached-LDM-SPC.rds\",   destdir = tools::R_user_dir(package = \"labtaxa\") )  load_labtaxa(   filename = \"cached-LDM-SPC.rds\",   destdir = ldm_data_dir(),   silent = FALSE )  load_labmorph(   filename = \"cached-morph-SPC.rds\",   destdir = ldm_data_dir(),   silent = FALSE )"},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cache and Load KSSL Data — cache_labtaxa","text":"x SoilProfileCollection object (typically get_LDM_snapshot()) object cache labtaxa data directory filename Default: \"cached-morph-SPC.rds\"; name cached morphologic file destdir Default: ldm_data_dir(); directory file stored silent Default: FALSE; suppress error messages file exist?","code":""},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cache and Load KSSL Data — cache_labtaxa","text":"cache_labtaxa(): Invisibly returns full path saved file. Called side-effect saving object. load_labtaxa(): Returns cached object (typically SoilProfileCollection), try-error file exist read. load_labmorph(): Returns cached morphologic SoilProfileCollection, try-error found. cached morphologic SoilProfileCollection, try-error found","code":""},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"overview","dir":"Reference","previous_headings":"","what":"Overview","title":"Cache and Load KSSL Data — cache_labtaxa","text":"functions provide explicit control data caching. cases, get_LDM_snapshot(..., cache = TRUE) automatically handles downloading caching. Use functions need custom caching behavior want manually manage cached files.","code":""},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"cache-directory","dir":"Reference","previous_headings":"","what":"Cache Directory","title":"Cache and Load KSSL Data — cache_labtaxa","text":"cached files stored ldm_data_dir(), typically: Linux/Mac: ~/.local/share/R/labtaxa Windows: C:\\Users\\USERNAME\\AppData\\Local\\R\\labtaxa","code":""},{"path":[]},{"path":"https://brownag.github.io/labtaxa/reference/cache_labtaxa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cache and Load KSSL Data — cache_labtaxa","text":"","code":"if (FALSE) { # \\dontrun{ # Example 1: Download and cache automatically (recommended) ldm <- get_LDM_snapshot(cache = TRUE)  # Auto-caches  # Example 2: Load from cache (very fast) ldm <- load_labtaxa()  # Example 3: Manually cache a subset mollisols <- subset(ldm, SSL_taxorder == \"mollisols\") cache_labtaxa(mollisols, filename = \"mollisols-subset.rds\")  # Example 4: Later, load your subset mollisols <- load_labtaxa(filename = \"mollisols-subset.rds\")  # Example 5: Load morphologic data morph <- load_labmorph()  # Example 6: Check if cache exists before loading cache_file <- file.path(ldm_data_dir(), \"cached-LDM-SPC.rds\") if (file.exists(cache_file)) {   ldm <- load_labtaxa() } else {   ldm <- get_LDM_snapshot()  # Downloads if not cached } } # }"},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":null,"dir":"Reference","previous_headings":"","what":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"Downloads USDA-NRCS Kellogg Soil Survey Laboratory (KSSL) 'Lab Data Mart' database snapshot official download portal. Uses RSelenium automated browser control navigate webpage initiate download, cached user's local data directory fast subsequent access. Returns official USDA-NRCS Kellogg Soil Survey Laboratory 'Lab Data Mart' download page URL. Returns directory labtaxa caches downloaded data processed results. Creates directory exist.","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"","code":"get_LDM_snapshot(   ...,   cache = TRUE,   verbose = TRUE,   keep_zip = FALSE,   dlname = \"ncss_labdatagpkg.zip\",   dbname = \"ncss_labdata.gpkg\",   cachename = \"cached-LDM-SPC.rds\",   companiondlname = \"ncss_morphologic.zip\",   companiondbname = \"ncss_morphologic.sqlite\",   companioncachename = \"cached-morph-SPC.rds\",   dirname = tools::R_user_dir(package = \"labtaxa\"),   port = 4567L,   timeout = 1e+05,   baseurl = ldm_db_download_url() )  ldm_db_download_url()  ldm_data_dir()"},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"... Arguments passed soilDB::fetchLDM() controlling data retrieval cache Default: TRUE; cache downloaded data RDS file reuse subsequent calls? FALSE, forces fresh download processing. verbose Default: TRUE; print informative progress messages download, processing, caching operations? Set FALSE silent operation. keep_zip Default: FALSE; retain downloaded ZIP archive files extraction? Set TRUE preserve raw downloads manual inspection. dlname Default: \"ncss_labdatagpkg.zip\"; file name main LDM database download dbname Default: \"ncss_labdata.gpkg\"; file name extracted GeoPackage database cachename Default: \"cached-LDM-SPC.rds\"; file name cached LDM SoilProfileCollection companiondlname Default: \"ncss_morphologic.zip\"; file name morphologic data download companiondbname Default: \"ncss_morphologic.sqlite\"; file name extracted morphologic database companioncachename Default: \"cached-morph-SPC.rds\"; file name cached morphologic SoilProfileCollection dirname Data cache directory labtaxa package. Default: tools::R_user_dir(package = \"labtaxa\"). directory created automatically exist. port Default: 4567L; port number Selenium WebDriver. Change port already use. timeout Default: 1e5 seconds (~27.8 hours); maximum time wait file download baseurl Default: \"https://ncsslabdatamart.sc.egov.usda.gov/database_download.aspx\"; URL KSSL Lab Data Mart download page","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"SoilProfileCollection object (aqp package) containing laboratory-analyzed soil profile data. object two components: site data: Profile-level attributes (e.g., soil taxonomy, coordinates) horizons data: Horizon-level laboratory analyses (e.g., pH, texture, nutrients) Use length(x) get number profiles, site(x) site data, horizons(x) horizon (layer) data. Character string containing URL Character string containing absolute path cache directory","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"Laboratory pedon (soil profile) data retrieved downloaded GeoPackage SQLite database using soilDB::fetchLDM() cached RDS file containing SoilProfileCollection object. Companion morphologic (field description) data retrieved using soilDB::fetchNASIS() cached separately. official USDA-NRCS webpage KSSL database snapshots downloaded. page uses JavaScript requires browser automation via RSelenium access. cache directory located : Linux/Mac: ~/.local/share/R/labtaxa Windows: C:\\Users\\USERNAME\\AppData\\Local\\R\\labtaxa follows XDG Base Directory specification via tools::R_user_dir().","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"caching-behavior","dir":"Reference","previous_headings":"","what":"Caching Behavior","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"default (cache = TRUE), results automatically cached RDS files tools::R_user_dir(package=\"labtaxa\"). Subsequent calls get_LDM_snapshot() cache = TRUE load cached data without re-downloading re-processing. Use cache = FALSE force fresh download rebuild.","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"data-versions","dir":"Reference","previous_headings":"","what":"Data Versions","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"KSSL data versioned month. Always check Docker image metadata file determine data version working . reproducible research, pin specific Docker image tags: ghcr.io/brownag/labtaxa:2026.02","code":""},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"performance-notes","dir":"Reference","previous_headings":"","what":"Performance Notes","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"full KSSL database contains ~65,000 soil profiles 500,000+ horizons. Initial download processing typically takes 10-30 minutes depending internet speed. Subsequent calls using cached data complete <1 second.","code":""},{"path":[]},{"path":"https://brownag.github.io/labtaxa/reference/get_LDM_snapshot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get 'Lab Data Mart' 'SQLite' Snapshot — get_LDM_snapshot","text":"","code":"if (FALSE) { # \\dontrun{ # Download and cache KSSL data (typically takes 10-30 minutes on first run) ldm <- get_LDM_snapshot()  # Check what you downloaded length(ldm)  # Number of profiles head(site(ldm))  # Site-level attributes  # Subsequent calls are fast (load from cache) ldm <- get_LDM_snapshot()  # <1 second!  # Access profile data profiles <- site(ldm) horizons <- horizons(ldm)  # Subset to specific soil orders mollisols <- subset(ldm, SSL_taxorder == \"mollisols\") cat(sprintf(\"Found %d mollisols\\\\n\", length(mollisols)))  # Force fresh download (skip cache) ldm_fresh <- get_LDM_snapshot(cache = FALSE, verbose = TRUE)  # Use with soilDB for custom database queries ldm <- get_LDM_snapshot() horizons_data <- horizons(ldm) mean_clay <- mean(horizons_data$clay_r, na.rm = TRUE) cat(sprintf(\"Mean clay content: %.1f%%\\\\n\", mean_clay)) } # } url <- ldm_db_download_url() cat(sprintf(\"Download from: %s\\\\n\", url)) #> Download from: https://ncsslabdatamart.sc.egov.usda.gov/database_download.aspx\\n cache_dir <- ldm_data_dir() cat(sprintf(\"Data cached at: %s\\\\n\", cache_dir)) #> Data cached at: /home/runner/.local/share/R/labtaxa\\n  # Check what's cached files <- list.files(cache_dir) cat(sprintf(\"Cached files:\\\\n%s\\\\n\", paste(files, collapse = \"\\\\n\"))) #> Cached files:\\n\\n"},{"path":"https://brownag.github.io/labtaxa/reference/labtaxa-package.html","id":null,"dir":"Reference","previous_headings":"","what":"labtaxa: Fetch and Process USDA-NRCS-NCSS Lab Data Mart 'SQLite' Snapshot — labtaxa-package","title":"labtaxa: Fetch and Process USDA-NRCS-NCSS Lab Data Mart 'SQLite' Snapshot — labtaxa-package","text":"Supports automatic download 'Lab Data Mart' (https://ncsslabdatamart.sc.egov.usda.gov/) database snapshots. Applies patches cached database testing use R.","code":""},{"path":[]},{"path":"https://brownag.github.io/labtaxa/reference/labtaxa-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"labtaxa: Fetch and Process USDA-NRCS-NCSS Lab Data Mart 'SQLite' Snapshot — labtaxa-package","text":"Maintainer: Andrew Brown andrew.g.brown@usda.gov (ORCID)","code":""},{"path":"https://brownag.github.io/labtaxa/news/index.html","id":"labtaxa-003","dir":"Changelog","previous_headings":"","what":"labtaxa 0.0.3","title":"labtaxa 0.0.3","text":"Added morphologic data support via load_labmorph() Improved Docker build caching Fixed package data file resolution","code":""},{"path":"https://brownag.github.io/labtaxa/news/index.html","id":"labtaxa-001","dir":"Changelog","previous_headings":"","what":"labtaxa 0.0.1","title":"labtaxa 0.0.1","text":"Initial release","code":""}]
